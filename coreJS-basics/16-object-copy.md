# Objects and linked dependency
**Вопрос: Как избежать ссылочной зависимости при копировании объекта?**

### `Object.assign()`
В Javascript существует метод для копирования объекта. Поскольку все объекты имеют ссылочный тип, то метод создаст новый объект с теми 
же полями.  

Однако, если внутри объекта есть другие объекты, то ссылки на них будут сохранены. Из примера ниже видно, что проблема этого подхода в 
том, что `copyObj` не является **полной** копией и какие-то зависимости всё-таки остаются, и если изменить поле у одного объекта, то оно 
так же изменится и у другого, потому что ссылки идентичны. 

```javascript
const obj = {
  a: {
    b: 5
  }
}

const copyObj = Object.assign({}, obj);
console.log(copyObj.a === obj.a); // true
```

Однако давно пользуются способом-"костылём", который сначала исходный объект парсит в json-строку, а потом обратно в js Object. Тогда 
ссылочная зависимость уходит, и создаётся полная копия оригинального объекта.
```javascript
const obj = {
  a: {
    b: 5
  }
}

const copyObj = JSON.parse(JSON.stringify(obj));
console.log(copyObj.a === obj.a); // false
```
