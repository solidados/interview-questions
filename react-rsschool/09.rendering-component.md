# Рендеринг компонента
Когда запускается Реакт приложение, возвращаемые компоненты транслируются в Элементы, которые `mount` в DOM.

## Initial render React App
Документация делит этот процесс на две фазы:
1. Render Phase
2. Commit Phase

### • Render Phase
В **первой** фазе Реакт начинает от `root` дерева компонентов и следует вниз до последнего компонента.  
Во время прохождения, Реакт читает код, использует `createElement()` и создаёт элементы.  
Реакт элементы – это Javascript объекты, которые описывают структуру UI.

Когда конвертация из `JSX` в `React.Element` завершена для всего дерева компонентов, то все `React.Elements` передаются во **вторую** фазу.

### • Commit Phase
В этой фазе все `React.Elements` применяются к DOM дереву, используя DOM-package.

Как заявляет официальная документация:
> "The Commit Phase is usually rapid, but rendering can be slow"

---

## Re-render React App
При обновлении компонентов происходят те же самые фазы, но с отличием:

## Стадии Component Update
1. Find all elements flagged for update
2. For each flagged component, convert `JSX` to `React.Element` and store the result
3. Perform reconciliation – `Diff` old and new Tree of React Elements (aka VDOM).
4. Hand over the changes to the next phase.
5. During the `Commit Phase` changes are applied to the actual DOM

### • Render Phase
Реакт начинает обход от `root` компонента вниз по дереву, проверяя помеченные элементы (`flagged`), которые необходимо будет обновить.

Компонент может пометить себя флагом при помощи функции `set`, либо при помощи вызова `useReducer` диспач-функции.

После этого, лдя каждого помеченного компонента, Реакт снова вызовет функцию `createElement()` и конвертирует его из `JSX` в `React.
Element` и сохраняет их.

Когда этот процесс окончен, Реакт сравнит **текущий Render** с **предыдущим Render**, выявит все изменения состояний и передаст их в 
`Commit Phase`

### • Commit Phase
В `Commit Phase` все изменения будут применены к DOM.

Однако, если никаких изменений не было совершено, тогда ничего не будет передано в `Commit Phase`, соответственно ничего не будет 
применено к DOM, так как процедура **re-render** может быть ресурсо-затратной.
